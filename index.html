

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to RangeSet documentation &mdash; rangeset v0.0.2 documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="rangeset v0.0.2 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">rangeset v0.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-rangeset-documentation">
<h1>Welcome to RangeSet documentation<a class="headerlink" href="#welcome-to-rangeset-documentation" title="Permalink to this headline">¶</a></h1>
<p>This module provides a RangeSet data structure. A range set is, as the
name implies, a set of ranges. Intuitively, you could think about a
range set as a subset of the real number line, with arbitrary gaps.
Some examples of range sets on the real number line:</p>
<ol class="arabic simple">
<li>-infinity to +infinity</li>
<li>-1 to 1</li>
<li>1 to 4, 10 to 20</li>
<li>-infinity to 0, 10 to 20</li>
<li>(the empty set)</li>
</ol>
<p>The code lives on github at: <a class="reference external" href="https://github.com/axiak/py-rangeset">https://github.com/axiak/py-rangeset</a>.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<p>The rangeset implementation offers immutable objects that represent the range sets as described above. The operations are largely similar to the <a class="reference external" href="http://docs.python.org/library/stdtypes.html#set">set object</a> with the obvious exception that mutating methods such as <tt class="docutils literal"><span class="pre">.add</span></tt> and <tt class="docutils literal"><span class="pre">.remove</span></tt> are not available. The main object is the <tt class="docutils literal"><span class="pre">RangeSet</span></tt> object.</p>
<div class="section" id="exported-symbols">
<h3>Exported Symbols<a class="headerlink" href="#exported-symbols" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">RangeSet</span></tt> - The rangeset class described below</li>
<li><tt class="docutils literal"><span class="pre">INFINITY</span></tt> - Positive infinity, used when constructing unbound ranges.</li>
<li><tt class="docutils literal"><span class="pre">NEGATIVE_INFINITY</span></tt> - Negative infinity, used when constructing unbound ranges.</li>
</ol>
</div>
<div class="section" id="static-methods">
<h3>Static Methods<a class="headerlink" href="#static-methods" title="Permalink to this headline">¶</a></h3>
<dl class="staticmethod">
<dt id="RangeSet">
<em class="property">static </em><tt class="descname">RangeSet</tt><big>(</big><em>start</em>, <em>end) (constructor</em><big>)</big><a class="headerlink" href="#RangeSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplest way to create a range, or a rangeset of a single range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; Any object that supports subtraction and ordering</li>
<li><strong>end</strong> &#8211; Same type as <tt class="docutils literal"><span class="pre">start</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="RangeSet.mutual_union">
<em class="property">static </em><tt class="descclassname">RangeSet.</tt><tt class="descname">mutual_union</tt><big>(</big><em>range1</em>, <em>range2</em>, <em>...</em><big>)</big><a class="headerlink" href="#RangeSet.mutual_union" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a rangeset which represents the mutual union of all ranges provided.
Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">RangeSet</span><span class="o">.</span><span class="n">mutual_union</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="go">&lt;RangeSet 1 -- 2, 3 -- 4&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>range</strong> &#8211; Either RangeSet object or tuple of <tt class="docutils literal"><span class="pre">(start,</span> <span class="pre">end)</span></tt></li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">RangeSet</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="RangeSet.mutual_overlaps">
<em class="property">static </em><tt class="descclassname">RangeSet.</tt><tt class="descname">mutual_overlaps</tt><big>(</big><em>range1</em>, <em>range2</em>, <em>...</em><big>)</big><a class="headerlink" href="#RangeSet.mutual_overlaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a rangeset which represents the mutual intersection of all ranges.
Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">RangeSet</span><span class="o">.</span><span class="n">mutual_overlaps</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">&lt;RangeSet 2 -- 5&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>range</strong> &#8211; Either RangeSet object or tuple of <tt class="docutils literal"><span class="pre">(start,</span> <span class="pre">end)</span></tt></li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">RangeSet</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="min">
<tt class="descname">min</tt><a class="headerlink" href="#min" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum point of the set. Could be negative infinity.</p>
</dd></dl>

<dl class="attribute">
<dt id="max">
<tt class="descname">max</tt><a class="headerlink" href="#max" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum point of the set. Could be infinity.</p>
</dd></dl>

</div>
<div class="section" id="instance-methods">
<h2>Instance Methods<a class="headerlink" href="#instance-methods" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="difference">
<tt class="descname">difference</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the set difference between this and another rangeset.</p>
<p>You can also use <tt class="docutils literal"><span class="pre">a</span> <span class="pre">-</span> <span class="pre">b</span></tt> as sugar for <tt class="docutils literal"><span class="pre">a.difference(b)</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>other</strong> &#8211; Either a RangeSet or a tuple of (start, end)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="union">
<tt class="descname">union</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#union" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the set union between this and another rangeset or tuple.</p>
<p>You can also use the <tt class="docutils literal"><span class="pre">a</span> <span class="pre">|</span> <span class="pre">b</span></tt> syntax for <tt class="docutils literal"><span class="pre">a.union(b)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="intersect">
<tt class="descname">intersect</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the set intersection between this and another rangeset or tuple.</p>
<p>You can also use the <tt class="docutils literal"><span class="pre">a</span> <span class="pre">&amp;</span> <span class="pre">b</span></tt> syntax for <tt class="docutils literal"><span class="pre">a.intersect(b)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="invert">
<tt class="descname">invert</tt><big>(</big><big>)</big><a class="headerlink" href="#invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert the range set. The universe is assumed to be a line from negative
infinity to positive infinity, so any bounded set will have an unbounded
invert.</p>
<p>You can also use the <tt class="docutils literal"><span class="pre">~a</span></tt> syntax for <tt class="docutils literal"><span class="pre">a.invert()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="measure">
<tt class="descname">measure</tt><big>(</big><big>)</big><a class="headerlink" href="#measure" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the measure for the rangeset. The measure simply means
the total amount of length minus the gaps. For example, a range
from 1 to 5 would have a measure of 4. A rangeset from 1 to 5, then
10 to 15 would have a measure of 9.</p>
<p><strong>N.B.</strong> <tt class="docutils literal"><span class="pre">measure</span></tt> will raise an exception if the rangeset is unbounded.</p>
</dd></dl>

<dl class="method">
<dt id="range">
<tt class="descname">range</tt><big>(</big><big>)</big><a class="headerlink" href="#range" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the length of the rangeset by computing the difference of
the maximum of the rangeset minus the minimum of the rangeset. The
difference of the range and the measure is equal to the measure of
the gaps.</p>
<p>In other words, suppose we have the example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">RangeSet</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaps</span> <span class="o">=</span> <span class="n">RangeSet</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">min</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">max</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">r</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">range</span><span class="p">()</span> <span class="o">-</span> <span class="n">r</span><span class="o">.</span><span class="n">measure</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaps</span><span class="o">.</span><span class="n">measure</span><span class="p">()</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Note that to get the gaps we had to intersect with the min and max to
prevent getting infinite ranges.</p>
<p><strong>N.B.</strong> <tt class="docutils literal"><span class="pre">range</span></tt> will raise an exception if the rangeset is unbounded.</p>
</dd></dl>

<dl class="method">
<dt id="__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>element</em><big>)</big><a class="headerlink" href="#__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>You can use <tt class="docutils literal"><span class="pre">elem</span> <span class="pre">in</span> <span class="pre">a</span></tt> syntax to determine if <tt class="docutils literal"><span class="pre">elem</span></tt> belongs to your
rangeset. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">RangeSet</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span> <span class="ow">in</span> <span class="n">a</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">7</span> <span class="ow">in</span> <span class="n">a</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h2>
<p>Care is taken to ensure that the data structure performs fairly well. Most operations
are worst-case <tt class="docutils literal"><span class="pre">O(n</span> <span class="pre">log</span> <span class="pre">n)</span></tt> in the number of disjoint subranges. However, since those
operations are using Timsort on rather sorted data, the performance gets closer to <tt class="docutils literal"><span class="pre">O(n)</span></tt>.
(An attempt at writing an in-python <tt class="docutils literal"><span class="pre">O(n)</span></tt> algorithm was much slower than Timsort.)</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to RangeSet documentation</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#exported-symbols">Exported Symbols</a></li>
<li><a class="reference internal" href="#static-methods">Static Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#instance-methods">Instance Methods</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">rangeset v0.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2012, Michael Axiak.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>